{
  "language": "Solidity",
  "sources": {
    "@api3/airnode-protocol-v1/contracts/access-control-registry/interfaces/IAccessControlRegistryAdminned.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"../../utils/interfaces/ISelfMulticall.sol\";\n\ninterface IAccessControlRegistryAdminned is ISelfMulticall {\n    function accessControlRegistry() external view returns (address);\n\n    function adminRoleDescription() external view returns (string memory);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/access-control-registry/interfaces/IAccessControlRegistryAdminnedWithManager.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IAccessControlRegistryAdminned.sol\";\n\ninterface IAccessControlRegistryAdminnedWithManager is\n    IAccessControlRegistryAdminned\n{\n    function manager() external view returns (address);\n\n    function adminRole() external view returns (bytes32);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/interfaces/IApi3ServerV1.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IOevDapiServer.sol\";\nimport \"./IBeaconUpdatesWithSignedData.sol\";\n\ninterface IApi3ServerV1 is IOevDapiServer, IBeaconUpdatesWithSignedData {\n    function readDataFeedWithId(\n        bytes32 dataFeedId\n    ) external view returns (int224 value, uint32 timestamp);\n\n    function readDataFeedWithDapiNameHash(\n        bytes32 dapiNameHash\n    ) external view returns (int224 value, uint32 timestamp);\n\n    function readDataFeedWithIdAsOevProxy(\n        bytes32 dataFeedId\n    ) external view returns (int224 value, uint32 timestamp);\n\n    function readDataFeedWithDapiNameHashAsOevProxy(\n        bytes32 dapiNameHash\n    ) external view returns (int224 value, uint32 timestamp);\n\n    function dataFeeds(\n        bytes32 dataFeedId\n    ) external view returns (int224 value, uint32 timestamp);\n\n    function oevProxyToIdToDataFeed(\n        address proxy,\n        bytes32 dataFeedId\n    ) external view returns (int224 value, uint32 timestamp);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/interfaces/IBeaconUpdatesWithSignedData.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IDataFeedServer.sol\";\n\ninterface IBeaconUpdatesWithSignedData is IDataFeedServer {\n    function updateBeaconWithSignedData(\n        address airnode,\n        bytes32 templateId,\n        uint256 timestamp,\n        bytes calldata data,\n        bytes calldata signature\n    ) external returns (bytes32 beaconId);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/interfaces/IDapiServer.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"../../access-control-registry/interfaces/IAccessControlRegistryAdminnedWithManager.sol\";\nimport \"./IDataFeedServer.sol\";\n\ninterface IDapiServer is\n    IAccessControlRegistryAdminnedWithManager,\n    IDataFeedServer\n{\n    event SetDapiName(\n        bytes32 indexed dataFeedId,\n        bytes32 indexed dapiName,\n        address sender\n    );\n\n    function setDapiName(bytes32 dapiName, bytes32 dataFeedId) external;\n\n    function dapiNameToDataFeedId(\n        bytes32 dapiName\n    ) external view returns (bytes32);\n\n    // solhint-disable-next-line func-name-mixedcase\n    function DAPI_NAME_SETTER_ROLE_DESCRIPTION()\n        external\n        view\n        returns (string memory);\n\n    function dapiNameSetterRole() external view returns (bytes32);\n\n    function dapiNameHashToDataFeedId(\n        bytes32 dapiNameHash\n    ) external view returns (bytes32 dataFeedId);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/interfaces/IDataFeedServer.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"../../utils/interfaces/IExtendedSelfMulticall.sol\";\n\ninterface IDataFeedServer is IExtendedSelfMulticall {\n    event UpdatedBeaconWithSignedData(\n        bytes32 indexed beaconId,\n        int224 value,\n        uint32 timestamp\n    );\n\n    event UpdatedBeaconSetWithBeacons(\n        bytes32 indexed beaconSetId,\n        int224 value,\n        uint32 timestamp\n    );\n\n    function updateBeaconSetWithBeacons(\n        bytes32[] memory beaconIds\n    ) external returns (bytes32 beaconSetId);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/interfaces/IOevDapiServer.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IOevDataFeedServer.sol\";\nimport \"./IDapiServer.sol\";\n\ninterface IOevDapiServer is IOevDataFeedServer, IDapiServer {}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/interfaces/IOevDataFeedServer.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IDataFeedServer.sol\";\n\ninterface IOevDataFeedServer is IDataFeedServer {\n    event UpdatedOevProxyBeaconWithSignedData(\n        bytes32 indexed beaconId,\n        address indexed proxy,\n        bytes32 indexed updateId,\n        int224 value,\n        uint32 timestamp\n    );\n\n    event UpdatedOevProxyBeaconSetWithSignedData(\n        bytes32 indexed beaconSetId,\n        address indexed proxy,\n        bytes32 indexed updateId,\n        int224 value,\n        uint32 timestamp\n    );\n\n    event Withdrew(\n        address indexed oevProxy,\n        address oevBeneficiary,\n        uint256 amount\n    );\n\n    function updateOevProxyDataFeedWithSignedData(\n        address oevProxy,\n        bytes32 dataFeedId,\n        bytes32 updateId,\n        uint256 timestamp,\n        bytes calldata data,\n        bytes[] calldata packedOevUpdateSignatures\n    ) external payable;\n\n    function withdraw(address oevProxy) external;\n\n    function oevProxyToBalance(\n        address oevProxy\n    ) external view returns (uint256 balance);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/DapiProxy.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./interfaces/IDapiProxy.sol\";\nimport \"../interfaces/IApi3ServerV1.sol\";\n\n/// @title An immutable proxy contract that is used to read a specific dAPI of\n/// a specific DapiServer contract\n/// @notice In an effort to reduce the bytecode of this contract, its\n/// constructor arguments are validated by ProxyFactory, rather than\n/// internally. If you intend to deploy this contract without using\n/// ProxyFactory, you are recommended to implement an equivalent validation.\n/// @dev The proxy contracts are generalized to support most types of numerical\n/// data feeds. This means that the user of this proxy is expected to validate\n/// the read values according to the specific use-case. For example, `value` is\n/// a signed integer, yet it being negative may not make sense in the case that\n/// the data feed represents the spot price of an asset. In that case, the user\n/// is responsible with ensuring that `value` is not negative.\n/// In the case that the data feed is from a single source, `timestamp` is the\n/// system time of the Airnode when it signed the data. In the case that the\n/// data feed is from multiple sources, `timestamp` is the median of system\n/// times of the Airnodes when they signed the respective data. There are two\n/// points to consider while using `timestamp` in your contract logic: (1) It\n/// is based on the system time of the Airnodes, and not the block timestamp.\n/// This may be relevant when either of them drifts. (2) `timestamp` is an\n/// off-chain value that is being reported, similar to `value`. Both should\n/// only be trusted as much as the Airnode(s) that report them.\ncontract DapiProxy is IDapiProxy {\n    /// @notice DapiServer address\n    address public immutable override dapiServer;\n    /// @notice Hash of the dAPI name\n    bytes32 public immutable override dapiNameHash;\n\n    /// @param _dapiServer DapiServer address\n    /// @param _dapiNameHash Hash of the dAPI name\n    constructor(address _dapiServer, bytes32 _dapiNameHash) {\n        dapiServer = _dapiServer;\n        dapiNameHash = _dapiNameHash;\n    }\n\n    /// @notice Reads the dAPI that this proxy maps to\n    /// @return value dAPI value\n    /// @return timestamp dAPI timestamp\n    function read()\n        external\n        view\n        virtual\n        override\n        returns (int224 value, uint32 timestamp)\n    {\n        (value, timestamp) = IApi3ServerV1(dapiServer)\n            .readDataFeedWithDapiNameHash(dapiNameHash);\n    }\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/DapiProxyWithOev.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./DapiProxy.sol\";\nimport \"./interfaces/IOevProxy.sol\";\n\n/// @title An immutable proxy contract that is used to read a specific dAPI of\n/// a specific DapiServer contract and inform DapiServer about the beneficiary\n/// of the respective OEV proceeds\n/// @notice In an effort to reduce the bytecode of this contract, its\n/// constructor arguments are validated by ProxyFactory, rather than\n/// internally. If you intend to deploy this contract without using\n/// ProxyFactory, you are recommended to implement an equivalent validation.\n/// @dev See DapiProxy.sol for comments about usage\ncontract DapiProxyWithOev is DapiProxy, IOevProxy {\n    /// @notice OEV beneficiary address\n    address public immutable override oevBeneficiary;\n\n    /// @param _dapiServer DapiServer address\n    /// @param _dapiNameHash Hash of the dAPI name\n    /// @param _oevBeneficiary OEV beneficiary\n    constructor(\n        address _dapiServer,\n        bytes32 _dapiNameHash,\n        address _oevBeneficiary\n    ) DapiProxy(_dapiServer, _dapiNameHash) {\n        oevBeneficiary = _oevBeneficiary;\n    }\n\n    /// @notice Reads the dAPI that this proxy maps to\n    /// @return value dAPI value\n    /// @return timestamp dAPI timestamp\n    function read()\n        external\n        view\n        virtual\n        override\n        returns (int224 value, uint32 timestamp)\n    {\n        (value, timestamp) = IApi3ServerV1(dapiServer)\n            .readDataFeedWithDapiNameHashAsOevProxy(dapiNameHash);\n    }\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/DataFeedProxy.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./interfaces/IDataFeedProxy.sol\";\nimport \"../interfaces/IApi3ServerV1.sol\";\n\n/// @title An immutable proxy contract that is used to read a specific data\n/// feed (Beacon or Beacon set) of a specific DapiServer contract\n/// @notice In an effort to reduce the bytecode of this contract, its\n/// constructor arguments are validated by ProxyFactory, rather than\n/// internally. If you intend to deploy this contract without using\n/// ProxyFactory, you are recommended to implement an equivalent validation.\n/// @dev See DapiProxy.sol for comments about usage\ncontract DataFeedProxy is IDataFeedProxy {\n    /// @notice DapiServer address\n    address public immutable override dapiServer;\n    /// @notice Data feed ID\n    bytes32 public immutable override dataFeedId;\n\n    /// @param _dapiServer DapiServer address\n    /// @param _dataFeedId Data feed (Beacon or Beacon set) ID\n    constructor(address _dapiServer, bytes32 _dataFeedId) {\n        dapiServer = _dapiServer;\n        dataFeedId = _dataFeedId;\n    }\n\n    /// @notice Reads the data feed that this proxy maps to\n    /// @return value Data feed value\n    /// @return timestamp Data feed timestamp\n    function read()\n        external\n        view\n        virtual\n        override\n        returns (int224 value, uint32 timestamp)\n    {\n        (value, timestamp) = IApi3ServerV1(dapiServer).readDataFeedWithId(\n            dataFeedId\n        );\n    }\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/DataFeedProxyWithOev.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./DataFeedProxy.sol\";\nimport \"./interfaces/IOevProxy.sol\";\n\n/// @title An immutable proxy contract that is used to read a specific data\n/// feed (Beacon or Beacon set) of a specific DapiServer contract and inform\n/// DapiServer about the beneficiary of the respective OEV proceeds\n/// @notice In an effort to reduce the bytecode of this contract, its\n/// constructor arguments are validated by ProxyFactory, rather than\n/// internally. If you intend to deploy this contract without using\n/// ProxyFactory, you are recommended to implement an equivalent validation.\n/// @dev See DapiProxy.sol for comments about usage\ncontract DataFeedProxyWithOev is DataFeedProxy, IOevProxy {\n    /// @notice OEV beneficiary address\n    address public immutable override oevBeneficiary;\n\n    /// @param _dapiServer DapiServer address\n    /// @param _dataFeedId Data feed (Beacon or Beacon set) ID\n    /// @param _oevBeneficiary OEV beneficiary\n    constructor(\n        address _dapiServer,\n        bytes32 _dataFeedId,\n        address _oevBeneficiary\n    ) DataFeedProxy(_dapiServer, _dataFeedId) {\n        oevBeneficiary = _oevBeneficiary;\n    }\n\n    /// @notice Reads the data feed that this proxy maps to\n    /// @return value Data feed value\n    /// @return timestamp Data feed timestamp\n    function read()\n        external\n        view\n        virtual\n        override\n        returns (int224 value, uint32 timestamp)\n    {\n        (value, timestamp) = IApi3ServerV1(dapiServer)\n            .readDataFeedWithIdAsOevProxy(dataFeedId);\n    }\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/interfaces/IDapiProxy.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IProxy.sol\";\n\ninterface IDapiProxy is IProxy {\n    function dapiNameHash() external view returns (bytes32);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/interfaces/IDataFeedProxy.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./IProxy.sol\";\n\ninterface IDataFeedProxy is IProxy {\n    function dataFeedId() external view returns (bytes32);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/interfaces/IOevProxy.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface IOevProxy {\n    function oevBeneficiary() external view returns (address);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/interfaces/IProxy.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\n/// @dev See DapiProxy.sol for comments about usage\ninterface IProxy {\n    function read() external view returns (int224 value, uint32 timestamp);\n\n    function dapiServer() external view returns (address);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/interfaces/IProxyFactory.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface IProxyFactory {\n    event DeployedDataFeedProxy(\n        address indexed proxyAddress,\n        bytes32 indexed dataFeedId,\n        bytes metadata\n    );\n\n    event DeployedDapiProxy(\n        address indexed proxyAddress,\n        bytes32 indexed dapiName,\n        bytes metadata\n    );\n\n    event DeployedDataFeedProxyWithOev(\n        address indexed proxyAddress,\n        bytes32 indexed dataFeedId,\n        address oevBeneficiary,\n        bytes metadata\n    );\n\n    event DeployedDapiProxyWithOev(\n        address indexed proxyAddress,\n        bytes32 indexed dapiName,\n        address oevBeneficiary,\n        bytes metadata\n    );\n\n    function deployDataFeedProxy(\n        bytes32 dataFeedId,\n        bytes calldata metadata\n    ) external returns (address proxyAddress);\n\n    function deployDapiProxy(\n        bytes32 dapiName,\n        bytes calldata metadata\n    ) external returns (address proxyAddress);\n\n    function deployDataFeedProxyWithOev(\n        bytes32 dataFeedId,\n        address oevBeneficiary,\n        bytes calldata metadata\n    ) external returns (address proxyAddress);\n\n    function deployDapiProxyWithOev(\n        bytes32 dapiName,\n        address oevBeneficiary,\n        bytes calldata metadata\n    ) external returns (address proxyAddress);\n\n    function dapiServer() external view returns (address);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/dapis/proxies/ProxyFactory.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./DataFeedProxy.sol\";\nimport \"./DapiProxy.sol\";\nimport \"./DataFeedProxyWithOev.sol\";\nimport \"./DapiProxyWithOev.sol\";\nimport \"./interfaces/IProxyFactory.sol\";\n\n/// @title Contract factory that deterministically deploys proxies that read\n/// data feeds (Beacons or Beacon sets) or dAPIs, along with optional OEV\n/// support\n/// @dev The proxies are deployed normally and not cloned to minimize the gas\n/// cost overhead while using them to read data feed values\ncontract ProxyFactory is IProxyFactory {\n    /// @notice DapiServer address\n    address public immutable override dapiServer;\n\n    /// @param _dapiServer DapiServer address\n    constructor(address _dapiServer) {\n        require(_dapiServer != address(0), \"DapiServer address zero\");\n        dapiServer = _dapiServer;\n    }\n\n    /// @notice Deterministically deploys a data feed proxy\n    /// @param dataFeedId Data feed ID\n    /// @param metadata Metadata associated with the proxy\n    /// @return proxyAddress Proxy address\n    function deployDataFeedProxy(\n        bytes32 dataFeedId,\n        bytes calldata metadata\n    ) external override returns (address proxyAddress) {\n        require(dataFeedId != bytes32(0), \"Data feed ID zero\");\n        proxyAddress = address(\n            new DataFeedProxy{salt: keccak256(metadata)}(dapiServer, dataFeedId)\n        );\n        emit DeployedDataFeedProxy(proxyAddress, dataFeedId, metadata);\n    }\n\n    /// @notice Deterministically deploys a dAPI proxy\n    /// @param dapiName dAPI name\n    /// @param metadata Metadata associated with the proxy\n    /// @return proxyAddress Proxy address\n    function deployDapiProxy(\n        bytes32 dapiName,\n        bytes calldata metadata\n    ) external override returns (address proxyAddress) {\n        require(dapiName != bytes32(0), \"dAPI name zero\");\n        proxyAddress = address(\n            new DapiProxy{salt: keccak256(metadata)}(\n                dapiServer,\n                keccak256(abi.encodePacked(dapiName))\n            )\n        );\n        emit DeployedDapiProxy(proxyAddress, dapiName, metadata);\n    }\n\n    /// @notice Deterministically deploys a data feed proxy with OEV support\n    /// @param dataFeedId Data feed ID\n    /// @param oevBeneficiary OEV beneficiary\n    /// @param metadata Metadata associated with the proxy\n    /// @return proxyAddress Proxy address\n    function deployDataFeedProxyWithOev(\n        bytes32 dataFeedId,\n        address oevBeneficiary,\n        bytes calldata metadata\n    ) external override returns (address proxyAddress) {\n        require(dataFeedId != bytes32(0), \"Data feed ID zero\");\n        require(oevBeneficiary != address(0), \"OEV beneficiary zero\");\n        proxyAddress = address(\n            new DataFeedProxyWithOev{salt: keccak256(metadata)}(\n                dapiServer,\n                dataFeedId,\n                oevBeneficiary\n            )\n        );\n        emit DeployedDataFeedProxyWithOev(\n            proxyAddress,\n            dataFeedId,\n            oevBeneficiary,\n            metadata\n        );\n    }\n\n    /// @notice Deterministically deploys a dAPI proxy with OEV support\n    /// @param dapiName dAPI name\n    /// @param oevBeneficiary OEV beneficiary\n    /// @param metadata Metadata associated with the proxy\n    /// @return proxyAddress Proxy address\n    function deployDapiProxyWithOev(\n        bytes32 dapiName,\n        address oevBeneficiary,\n        bytes calldata metadata\n    ) external override returns (address proxyAddress) {\n        require(dapiName != bytes32(0), \"dAPI name zero\");\n        require(oevBeneficiary != address(0), \"OEV beneficiary zero\");\n        proxyAddress = address(\n            new DapiProxyWithOev{salt: keccak256(metadata)}(\n                dapiServer,\n                keccak256(abi.encodePacked(dapiName)),\n                oevBeneficiary\n            )\n        );\n        emit DeployedDapiProxyWithOev(\n            proxyAddress,\n            dapiName,\n            oevBeneficiary,\n            metadata\n        );\n    }\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/utils/interfaces/IExtendedSelfMulticall.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport \"./ISelfMulticall.sol\";\n\ninterface IExtendedSelfMulticall is ISelfMulticall {\n    function getChainId() external view returns (uint256);\n\n    function getBalance(address account) external view returns (uint256);\n\n    function containsBytecode(address account) external view returns (bool);\n\n    function getBlockNumber() external view returns (uint256);\n\n    function getBlockTimestamp() external view returns (uint256);\n\n    function getBlockBasefee() external view returns (uint256);\n}\n"
    },
    "@api3/airnode-protocol-v1/contracts/utils/interfaces/ISelfMulticall.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface ISelfMulticall {\n    function multicall(\n        bytes[] calldata data\n    ) external returns (bytes[] memory returndata);\n\n    function tryMulticall(\n        bytes[] calldata data\n    ) external returns (bool[] memory successes, bytes[] memory returndata);\n}\n"
    },
    "contracts/ProxyFactory.sol": {
      "content": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.17;\n\nimport \"@api3/airnode-protocol-v1/contracts/dapis/proxies/ProxyFactory.sol\";\n"
    }
  },
  "settings": {
    "optimizer": {
      "enabled": true,
      "runs": 1000
    },
    "outputSelection": {
      "*": {
        "*": [
          "abi",
          "evm.bytecode",
          "evm.deployedBytecode",
          "evm.methodIdentifiers",
          "metadata",
          "devdoc",
          "userdoc",
          "storageLayout",
          "evm.gasEstimates"
        ],
        "": [
          "ast"
        ]
      }
    },
    "metadata": {
      "useLiteralContent": true
    }
  }
}